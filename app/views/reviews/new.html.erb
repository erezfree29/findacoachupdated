
<div id="review_ban" style="background-image: linear-gradient(-225deg, rgba(0,101,168,0.6) 0%, rgba(0,36,61,0.6) 50%), url('https://res.cloudinary.com/erezfriemagor/image/upload/v1536153466/pexels-photo-1056556_1.jpg');">
<div id="container">
<div id="rate_ser">rate the service</div>
<div class="starbox">
          <div class="star" data-star="1"><i class="fa fa-star"></i></div>
          <div class="star" data-star="2"><i class="fa fa-star"></i></div>
          <div class="star" data-star="3"><i class="fa fa-star"></i></div>
          <div class="star" data-star="4"><i class="fa fa-star"></i></div>
          <div class="star" data-star="5"><i class="fa fa-star"></i></div>
</div>
       <div id="input_form_review">
    <%= simple_form_for [@trainer, @booking, @review] do |f| %>


    <p class="til">title</p>
    <div id="title"><%= f.input :title,:label => false%></div>
    <p class="til">write down your review</p>
    <div id="content"><%= f.input :content,:label => false,:as => :text,:input_html => {:maxlength => 500, :size => 255} %></div>



    <div id="rate" name="7"><%= f.input :score, :collection => %w[1 2 3 4 5],as: :hidden, :value => @review.score%></div>
    <%#= f.input :score,:label => false,:input_html => { :value => '2' }, id: "scorefield" ,name: "scoreinput", type: "text" %>
    <div id="score">
    </div>

    <div class ="score" data-star="" ></div>



    <%= f.button :submit,'submit', class: "btn btn-primary booking_btn" %>
    <% end %>
  </div>
</div>
</div>


       <style>
    .starbox{
     width: 15vw;
     display: flex;
     margin-left:10px;
   }
  .star{
     cursor: pointer;
   }
   #content
   {
    width: 25vw;
   }
   #title
   {
    width: 10vw;
    color:white;
   }
   #input_form_review
   {
    margin-left:10px;
   }
   #container
   {
     margin-left:10px;
   }
   #review_ban
  {
    height: 50vw;
    margin-top:5px;
  }
  #rate_ser
  {
    font-size:45px;
    color: white;
  }
  .til
  {
    color:white;
  }
    </style>






      <script>
    let score = document.querySelector('.score')
    let rating = document.querySelector('#score')
 document.querySelectorAll('.starbox').forEach(function(starbox){
   Array.from(starbox.children).forEach(function(star){
     star.addEventListener('click', function(){
      let dropdown = document.querySelector('#review_score');
       if(star.dataset.star == "1"){
         Array.from(star.parentNode.children).forEach(function(starrr){
           starrr.style.color = "black"
           star.style.color = "#ffd530";
          dropdown.value = 1
         })
       }
       else if(star.dataset.star == "2"){
          Array.from(star.parentNode.children).forEach(function(starrr){
           starrr.style.color = "black"
           dropdown.value = 2
         })
          star.style.color = "#ffd530";
          star.parentNode.children[0].style.color = "#ffd530";
       }
       else if(star.dataset.star == "3"){
          Array.from(star.parentNode.children).forEach(function(starrr){
           starrr.style.color = "black"
           dropdown.value = 3
         })
          star.style.color = "#ffd530";
          star.parentNode.children[0].style.color = "#ffd530";
          star.parentNode.children[1].style.color = "#ffd530";
       }
       else if(star.dataset.star == "4"){
          Array.from(star.parentNode.children).forEach(function(starrr){
           starrr.style.color = "black"
           dropdown.value = 4
         })
          star.style.color = "#ffd530";
          star.parentNode.children[0].style.color = "#ffd530";
          star.parentNode.children[1].style.color = "#ffd530";
          star.parentNode.children[2].style.color = "#ffd530";
       }
       else if(star.dataset.star == "5"){
          Array.from(star.parentNode.children).forEach(function(starrr){
           starrr.style.color = "black"
           dropdown.value = 5
         })
           star.style.color = "#ffd530";
          star.parentNode.children[0].style.color = "#ffd530";
          star.parentNode.children[1].style.color = "#ffd530";
          star.parentNode.children[2].style.color = "#ffd530";
          star.parentNode.children[3].style.color = "#ffd530";
       }
     });
   });
 });
    window.onload = function(){
    let good = document.querySelector('.good');
    let rate = document.querySelector('#rate');
    let inscore = document.querySelector('#inscore');
    // let dropdown = document.querySelector('#review_score');
    // alert(dropdown.value);
    }
</script>






































