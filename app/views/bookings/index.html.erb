<style>
   .starbox{
     width: 15vw;
     display: flex;
   }

   .star{
     cursor: pointer;
   }
 </style>




<div class="banner_booking" style="background-image: linear-gradient(-225deg, rgba(0,101,168,0.6) 0%, rgba(0,36,61,0.6) 50%), url(<%= image_path "horizon.jpeg"%>);">


  <div class="row my_bookings">
    <div class="col-xs-12 col-lg-6">
      <%counter = 0%>
      <%booking_number = 1%>
      <%flag = 1 %>
      <%@user_bookings.each do |booking|%>
      <div class="card4">
       <div>booking number <%=booking_number%></div>
       <div>time of booking: <%=booking.time_of_booking%></div>


       <div>booking address: <%=@bookings_trainers[counter].address%></div>
       <div>trainer's name: <%=@bookings_trainers[counter].first_name%>
         <%=@bookings_trainers[counter].last_name%></div>
         <div>on the agenda: <%= @trainers_expertises[counter].name %></div>
         <div>duration: <%=booking.hours%> hours</div>
         <div>booking price: <%=booking.total_price%></div>
         <%# if DateTime.now>booking.time_of_booking %>
         <!-- <div class="write_review"><\%= link_to "give a review",new_trainer_booking_review_path(@bookings_trainers[counter],booking)%></div> -->

         <%#end  %>
         <div class="starbox">
          <div class="star" data-star="1"><i class="fa fa-star"></i></div>
          <div class="star" data-star="2"><i class="fa fa-star"></i></div>
          <div class="star" data-star="3"><i class="fa fa-star"></i></div>
          <div class="star" data-star="4"><i class="fa fa-star"></i></div>
          <div class="star" data-star="5"><i class="fa fa-star"></i></div>
        </div>
         <%counter += 1%>
         <%booking_number += 1%>
         <%flag =flag + 1%>
         <%if (flag > 3) %>
          <div class="cardpre"><%= link_to "previous bookings",about_path(1)%></div>
         <%break%>
         <%end %>
         <%end%>
       </div>
     </div>
   </div>
 </div>

<script>
 document.querySelectorAll('.starbox').forEach(function(starbox){
   Array.from(starbox.children).forEach(function(star){
     star.addEventListener('click', function(){
       if(star.dataset.star == "1"){
         Array.from(star.parentNode.children).forEach(function(starrr){
           starrr.style.color = "black"
         })
         star.style.color = "red";
       }
       else if(star.dataset.star == "2"){
          Array.from(star.parentNode.children).forEach(function(starrr){
           starrr.style.color = "black"
         })
          star.style.color = "red";
          star.parentNode.children[0].style.color = "red";
       }
       else if(star.dataset.star == "3"){
          Array.from(star.parentNode.children).forEach(function(starrr){
           starrr.style.color = "black"
         })
          star.style.color = "red";
          star.parentNode.children[0].style.color = "red";
          star.parentNode.children[1].style.color = "red";
       }
       else if(star.dataset.star == "4"){
          Array.from(star.parentNode.children).forEach(function(starrr){
           starrr.style.color = "black"
         })
          star.style.color = "red";
          star.parentNode.children[0].style.color = "red";
          star.parentNode.children[1].style.color = "red";
          star.parentNode.children[2].style.color = "red";
       }
       else if(star.dataset.star == "5"){
          Array.from(star.parentNode.children).forEach(function(starrr){
           starrr.style.color = "black"
         })
          star.style.color = "red";
          star.parentNode.children[0].style.color = "red";
          star.parentNode.children[1].style.color = "red";
          star.parentNode.children[2].style.color = "red";
          star.parentNode.children[3].style.color = "red";
       }
     });
   });

 });
</script>



















